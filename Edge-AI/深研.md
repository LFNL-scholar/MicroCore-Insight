# 小智AI - 自上而下分析

私有化部署整套方案的话，小智AI是一个完全的低成本端侧方案。
卡片形式

什么样的设计，是能让人愿意一直带在身边的，像手机一样。
专一设备，专项功能。

做成卡片的大小，要极致的薄度。

分布式，无感

先设计一个室内的想法

不需要专门的设备，抽离为多个子设备

麦克风处理模块：识别声音，把数据发送出去 （麦克风 + ESP32模块）
扬声器处理模块：接收数据，把声音响应出来 （扬声器 + ESP32模块）

相当于之前是麦克风，ESP32模块，扬声器都集成在了一起。现在把他分开来。

架构设计

麦克风处理模块（多个），持续监听环境中的语音，并将低功耗模式下的音频流不断发送到云端音频处理节点处理。定向拾音

音频处理节点，识别到类似“把灯打开”这样的指令时，直接执行，而不需要等到唤醒词。（后期可加入声纹识别功能）


- 边缘语音处理模块 | Edge Voice Processing Module | EVPM
  - 回声消除（AEC）：消除背景音乐或扬声器播放的声音。
  - 降噪（Noise Reduction）：滤除环境噪音，提高语音清晰度。
  - 语音活动检测（VAD）：判断是否有人说话，避免无效音频传输。
  - 低功耗音频编码（Opus）：减少带宽占用，提高传输效率。
  - 本地缓存与重传机制：防止网络抖动导致数据丢失。
  - 安全加密传输（TLS / AES）：确保数据隐私，防止被窃听。

- 云端语音处理节点（未唤醒情况）| Cloud Voice Processing Node | CVPN
  - 持续接收音频流，并使用FunASR语音识别 + 关键词检测（KWS）进行处理。
  - 识别到关键词（如“开灯”）后，触发对应的设备控制指令（如通过 MQTT 控制智能家居）。

- 核心对话处理节点（唤醒情况）| Core Dialogue Processing Node | CDPN
  - ASR
  - LLM
  - TTS

- 边缘语音响应模块 | Edge Voice Response Module | EVRM
  - 响应云端的TTS语音流


优势
- 语音处理和响应模块极低成本



使用场景
每个房间有一个或多个语音处理和响应模块，假设用户的卧室有一个语音处理模块（P1）和响应模块为